<!--

    Copyright
    Jacob Achira Obara
    2023

-->

{% extends 'base.html' %}

{% block content %}
    {% if blogs %}
        {% for blog in blogs %}
            <div class="blog oct">
                <div>
                    <a href="{{ url_for('blog', id=blog.id) }}">
                        <h2>{{blog.blogTitle}}   {{blog.blogPublishedDate}}</h2>
                    </a>
                </div>
                <div>
                    <p>{{blog.blogContent}}</p>
                </div>
                <div>
                    {{ blog.comments }}
                </div>
            </div>
        {% endfor %}
    {% endif %}
    {% if current_user.is_authenticated %}
            <div class="add-blog-parent oct">
                <form action="{{ url_for('blogs') }}" method="post">
                    <div class="oct blog-input">
                        <input type="text" name="title" placeholder="Title">
                    </div>
                    <div class="oct blog-text">
                        <textarea name="content" id="blog-content" cols="30" rows="10" placeholder="Start typing"></textarea>
                    </div>
                    <div class="oct blog-submit">
                        <input type="submit" value="Send">
                        <div id="blog-slide">Name</div>
                    </div>
                </form>
            </div>
            <script>
                const parent = document.querySelector('.add-blog-parent')
                const blogSend = document.querySelector('.blog-submit')

                parent.style.height = '40px'
                parent.style.overflow = 'hidden'
                parent.style.padding = '0'
            </script>
    {% else %}
        <a href="{{ url_for('login') }}" class="add-blog-link">
            <div class="oct add-blog-div">Add</div>
        </a>
    {% endif %}
{% endblock %}